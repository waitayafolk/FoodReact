{"ast":null,"code":"var _jsxFileName = \"D:\\\\ReactApp\\\\frontend\\\\src\\\\component\\\\User.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport axios from 'axios';\nimport { hostname } from './Connect';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  }\n}));\nexport default function User() {\n  _s();\n\n  const classes = useStyles();\n  const [showModal, setShowModal] = useState(false);\n  const [user, setUser] = useState(false);\n  const [level, setLevel] = useState(\"admin\");\n  const [userlist, setUserlist] = useState(false);\n  useEffect(() => {\n    LoadUser();\n  }, []);\n\n  const LoadUser = async () => {\n    let url = hostname + '/user/load_user';\n    let rs = await axios.get(url); // console.log(rs.data)\n\n    setUserlist(rs.data);\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n  };\n\n  const handleChangeReserveData = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleChange = e => {\n    setLevel(e.target.value);\n  };\n\n  const SaveUser = async () => {\n    let url = hostname + '/user/save_user';\n    let rs = await axios.post(url, {\n      name: user.name,\n      username: user.username,\n      password: user.password,\n      level: level\n    });\n\n    if (rs.data.message == 'Save Success') {\n      setShowModal(false);\n      Swal.fire({\n        icon: 'success',\n        title: 'Save Success',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    } else {\n      Swal.fire({\n        icon: 'Error',\n        title: 'Save Error',\n        showConfirmButton: false,\n        timer: 1500\n      });\n    }\n  };\n\n  const deleteUser = item => {\n    Swal.fire({\n      title: 'จะลบ User นี้หรือไม่?',\n      text: \"คุณต้องการลบใช่ไหม!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(async result => {\n      if (result.isConfirmed) {\n        let url = hostname + '/user/delete_user/' + item.id;\n        let rs = await axios.get(url);\n\n        if (rs.data.message == \"Suscess\") {\n          Swal.fire({\n            icon: 'success',\n            title: 'Delete Success',\n            showConfirmButton: false,\n            timer: 1500\n          });\n          LoadUser();\n        } else {\n          Swal.fire({\n            icon: 'Error',\n            title: 'Delete Error',\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"User / Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setShowModal(true),\n        style: {\n          width: \"15%\"\n        },\n        variant: \"contained\",\n        color: \"primary\",\n        children: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21 User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showModal,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"alert-dialog-title\",\n        children: \"User Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          id: \"alert-dialog-description\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: classes.form,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"name\",\n              label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\",\n              name: \"name\",\n              autoFocus: true,\n              onChange: handleChangeReserveData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              id: \"Username\",\n              label: \"Username\",\n              name: \"username\",\n              autoFocus: true,\n              onChange: handleChangeReserveData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              variant: \"outlined\",\n              margin: \"normal\",\n              required: true,\n              fullWidth: true,\n              name: \"password\",\n              label: \"Password\",\n              type: \"password\",\n              id: \"password\",\n              onChange: handleChangeReserveData\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n                  \"aria-label\": \"quiz\",\n                  name: \"quiz\",\n                  value: level,\n                  onChange: handleChange,\n                  children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    value: \"admin\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 60\n                    }, this),\n                    label: \"Admin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    value: \"user\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 59\n                    }, this),\n                    label: \"User\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            SaveUser();\n          },\n          color: \"primary\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        className: classes.table,\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\\u0E23\\u0E30\\u0E1A\\u0E1A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Level\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 14\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 14\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: userlist.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: userlist.map(item => /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                component: \"th\",\n                scope: \"row\",\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: item.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: item.level\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 16\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => {\n                    deleteUser(item);\n                  },\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  className: classes.button,\n                  startIcon: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 32\n                  }, this),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 14\n            }, this))\n          }, void 0, false) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 10\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(User, \"uZQtBerq7AVTenUIO/3xhoExD1o=\", false, function () {\n  return [useStyles];\n});\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["D:/ReactApp/frontend/src/component/User.js"],"names":["React","useEffect","useState","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","makeStyles","TextField","Radio","FormControlLabel","RadioGroup","FormControl","axios","hostname","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","DeleteIcon","Swal","useStyles","theme","root","margin","spacing","User","classes","showModal","setShowModal","user","setUser","level","setLevel","userlist","setUserlist","LoadUser","url","rs","get","data","handleClose","handleChangeReserveData","e","target","name","value","handleChange","SaveUser","post","username","password","message","fire","icon","title","showConfirmButton","timer","deleteUser","item","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","id","width","form","table","length","map","button"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControl from '@material-ui/core/FormControl';\nimport axios from 'axios';\nimport { hostname } from './Connect';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Swal from 'sweetalert2';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nexport default function User() {\n  const classes = useStyles();\n  const [showModal , setShowModal] = useState(false)\n  const [user , setUser] = useState(false)\n  const [level , setLevel] = useState(\"admin\")\n  const [userlist , setUserlist] = useState(false)\n\n  useEffect(()=>{\n   LoadUser()\n  },[])\n\n  const LoadUser = async()=>{\n   let url = hostname + '/user/load_user'\n   let rs = await axios.get(url)\n   // console.log(rs.data)\n   setUserlist(rs.data)\n  }\n  const handleClose = () => {\n   setShowModal(false);\n  };\n\n  const handleChangeReserveData=(e)=>{\n   setUser({...user , [e.target.name]: e.target.value})\n  }\n\n  const handleChange = (e) => {\n   setLevel(e.target.value);\n  };\n  const SaveUser = async() =>{\n   let url = hostname + '/user/save_user'\n   let rs = await axios.post(url,{\n    name : user.name , \n    username : user.username,\n    password : user.password,\n    level : level\n   })\n   if(rs.data.message == 'Save Success'){\n    setShowModal(false);\n    Swal.fire({\n     icon: 'success',\n     title: 'Save Success',\n     showConfirmButton: false,\n     timer: 1500\n    })\n   }else{\n    Swal.fire({\n     icon: 'Error',\n     title: 'Save Error',\n     showConfirmButton: false,\n     timer: 1500\n    })\n   }\n  }\n\n  const deleteUser =  (item)=>{\n   Swal.fire({\n    title: 'จะลบ User นี้หรือไม่?',\n    text: \"คุณต้องการลบใช่ไหม!\",\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonColor: '#3085d6',\n    cancelButtonColor: '#d33',\n    confirmButtonText: 'Yes, delete it!'\n  }).then(async(result) => {\n    if (result.isConfirmed) {\n     let url = hostname + '/user/delete_user/'+item.id\n     let rs = await axios.get(url)\n     if(rs.data.message == \"Suscess\"){\n      Swal.fire({\n       icon: 'success',\n       title: 'Delete Success',\n       showConfirmButton: false,\n       timer: 1500\n      })\n      LoadUser()\n     }else{\n      Swal.fire({\n       icon: 'Error',\n       title: 'Delete Error',\n       showConfirmButton: false,\n       timer: 1500\n      })\n     }\n    }\n  })\n  }\n\n  return (\n   <>\n    <div className={classes.root}>\n      <h3>User / Admin</h3>\n      <Button onClick={() => setShowModal(true)} style={{width : \"15%\"}} variant=\"contained\" color=\"primary\">\n        เพิ่ม User\n      </Button>\n    </div>\n    <Dialog\n        open={showModal}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n    >\n     <DialogTitle id=\"alert-dialog-title\">{\"User Account\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          <form className={classes.form} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"name\"\n              label=\"ชื่อ\"\n              name=\"name\"\n              autoFocus\n              onChange={handleChangeReserveData}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"Username\"\n              label=\"Username\"\n              name=\"username\"\n              autoFocus\n              onChange={handleChangeReserveData}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onChange={handleChangeReserveData}\n            />\n             <div>\n              <FormControl>\n                <RadioGroup aria-label=\"quiz\" name=\"quiz\" value={level} onChange={handleChange}>\n                  <FormControlLabel value=\"admin\" control={<Radio />} label=\"Admin\" />\n                  <FormControlLabel value=\"user\" control={<Radio />} label=\"User\" />\n                </RadioGroup>\n              </FormControl>\n            </div>\n          </form>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={()=>{SaveUser()}} color=\"primary\">\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <br />\n\n      <TableContainer component={Paper}>\n       <Table className={classes.table} aria-label=\"simple table\">\n         <TableHead>\n           <TableRow>\n             <TableCell>ชื่อผู้ใช้งานระบบ</TableCell>\n             <TableCell align=\"right\">Username</TableCell>\n             <TableCell align=\"right\">Level</TableCell>\n             <TableCell align=\"right\"></TableCell>\n           </TableRow>\n         </TableHead>\n         <TableBody>\n          {(userlist.length > 0) ? \n              <>\n               {userlist.map((item) => (\n             <TableRow>\n               <TableCell component=\"th\" scope=\"row\">\n                 {item.name}\n               </TableCell>\n               <TableCell align=\"right\">{item.username}</TableCell>\n               <TableCell align=\"right\">{item.level}</TableCell>\n               <TableCell align=\"right\">\n                <Button\n                    onClick={()=>{deleteUser(item)}}\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    className={classes.button}\n                    startIcon={<DeleteIcon />}\n                  >\n                    Delete\n                  </Button>\n               </TableCell>\n             </TableRow>\n           ))}\n              </>\n              :null}\n         </TableBody>\n       </Table>\n     </TableContainer>\n   </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}